#!/bin/bash
# Linux Platform Configuration (Ubuntu/Debian/CentOS)

# System settings
PLATFORM="linux"
OS_TYPE="linux"
PACKAGE_MANAGER="apt-get"  # auto-detect later

# Service management
SERVICE_MANAGER="systemctl"
SERVICE_DIR="/etc/systemd/system"
SERVICE_EXTENSION=".service"

# Application paths
APP_ROOT="/var/www"
APP_USER="www-data"
APP_GROUP="www-data"
LOG_DIR="/var/log/myapp"
PID_DIR="/var/run/myapp"

# Python configuration
PYTHON_BIN="/usr/bin/python3"
PIP_BIN="/usr/bin/pip3"
VIRTUALENV_DIR="/opt/venvs"

# Node.js configuration
NODE_BIN="/usr/bin/node"
NPM_BIN="/usr/bin/npm"
NODE_ENV="production"

# Nginx configuration
NGINX_AVAILABLE="/etc/nginx/sites-available"
NGINX_ENABLED="/etc/nginx/sites-enabled"
NGINX_CONF="/etc/nginx/nginx.conf"
NGINX_USER="www-data"

# Database configuration
DB_HOST="localhost"
DB_PORT="5432"
DB_BACKUP_DIR="/var/lib/postgresql/backups"

# Redis configuration
REDIS_HOST="localhost"
REDIS_PORT="6379"

# Monitoring
METRICS_PORT="9090"
HEALTH_CHECK_INTERVAL="30"

# Deployment settings
DEPLOY_USER="deploy"
DEPLOY_GROUP="deploy"
DEPLOY_TIMEOUT="600"
MAX_DEPLOY_RETRIES="3"

# Backup settings
BACKUP_RETENTION_DAYS="30"
BACKUP_COMPRESSION="gzip"

# Security
FIREWALL_ENABLED="true"
SSL_CERT_DIR="/etc/ssl/certs"
SSL_KEY_DIR="/etc/ssl/private"

# Resource limits
MAX_MEMORY="2G"
MAX_CPU_PERCENT="80"
MAX_OPEN_FILES="65536"

# Logging
LOG_ROTATION="daily"
LOG_RETENTION="14"
LOG_COMPRESSION="true"

# Linux specific
USE_APT="true"
USE_YUM="false"
USE_SYSTEMD="true"